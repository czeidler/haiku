<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<!-- 
 *
 * Copyright 2008-2009, Haiku. All rights reserved.
 * Distributed under the terms of the MIT License.
 *
 * Authors:
 *		Humdinger <humdingerb@gmail.com>
 * Translators:
 *		fyskij
 *		Barrett
 *
-->
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta name="robots" content="all" />
	<title>Le query</title>
	<link rel="stylesheet" type="text/css" href="../Haiku-doc.css" />
</head>
<body>

<div id="banner">
<div><span>Guida dell'utente</span></div>
</div>

<div class="nav">
<div class="inner">
<ul class="lang-menu">
<li class="now"><img src="../images/flags/it.png" alt="" /> Italiano</li>
<li><a href="../fr/queries.html"><img src="../images/flags/fr.png" alt="" />Français</a></li>
<li><a href="../de/queries.html"><img src="../images/flags/de.png" alt="" />Deutsch</a></li>
<li><a href="../ru/queries.html"><img src="../images/flags/ru.png" alt="" />Русский</a></li>
<li><a href="../es/queries.html"><img src="../images/flags/es.png" alt="" />Español</a></li>
<li><a href="../sv_SE/queries.html"><img src="../images/flags/sv_SE.png" alt="" />Svenska</a></li>
<li><a href="../jp/queries.html"><img src="../images/flags/jp.png" alt="" />日本語</a></li>
<li><a href="../uk/queries.html"><img src="../images/flags/uk.png" alt="" />Українська</a></li>
<li><a href="../zh_CN/queries.html"><img src="../images/flags/zh_CN.png" alt="" /> 中文 ［中文］</a></li>
<li><a href="../pt_PT/queries.html"><img src="../images/flags/pt_PT.png" alt="" />Português</a></li>
<li><a href="../fi/queries.html"><img src="../images/flags/fi.png" alt="" />Suomi</a></li>
<li><a href="../sk/queries.html"><img src="../images/flags/sk.png" alt="" />Slovenčina</a></li>
<li><a href="../hu/queries.html"><img src="../images/flags/hu.png" alt="" />Magyar</a></li>
<li><a href="../pt_BR/queries.html"><img src="../images/flags/pt_BR.png" alt="" />Português (Brazil)</a></li>
<li><a href="../ca/queries.html"><img src="../images/flags/ca.png" alt="" />Català</a></li>
<li><a href="../en/queries.html"><img src="../images/flags/gb.png" alt="" />English</a></li>
</ul>
<span>
 «  <a href="index.html">L'indice del filesystem</a> 
::  <a href="contents.html" class="uplink">Contenuti</a> 
::  <a href="workshop-filetypes+attributes.html">Workshop</a>  »
</span></div>
</div>

<div id="content">
<div>


<table class="index" id="index" summary="index">
<tr class="heading"><td>L'indice del filesystem</td></tr>
<tr class="index"><td>
	<a href="#find-window">La finestra di ricerca</a><br />
	<a href="#basic-query">Query di base - "per Nome"</a><br />
	<a href="#adv-query">Query avanzate - "per Attributo"</a><br />
	<a href="#more-adv-query">Query ancora più avanzate - "per Formula"</a><br />
	<a href="#result-window">La finestra dei risultati</a><br />
	<a href="#query-template">Modelli di query</a>
</td></tr>
</table>

<h1>Le query</h1>

<p>Una query è una ricerca di file basata sugli attributi e può essere eseguita nel Tracker e nel Terminale. Tutte le query vengono salvate in <span class="path">/boot/home/queries/</span> e vi rimangono sette giorni prima di essere eliminate. Nota, queste non sono solamente liste dei risultati delle ricerche ma formule per effettuare le query che attivano una nuova ricerca ogni volta che vengono aperte.<br />
Non è necessario fare doppio click per rieseguire una query. E' possibile <a href="tracker.html#navigating">vedere i dettagli</a> di una query salvata come se fosse una qualsiasi altra cartella seplicemente facendo click destro su di essa e navigando tramite i sottomenu.</p>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="find-window" name="find-window">La finestra di ricerca</a></h2>
<p>Si può eseguire una nuova query lanciando <span class="menu">Find...</span> dal menu della Deskbar, da qualsiasi finestra del Tracker o dal Desktop (che in realtà è una finestra del Tracker a schermo intero). La scorciatioia da tastiera è <span class="key">ALT</span> <span class="key">F</span>. La finestra di ricerca si presenta così:</p>
<img src="images/queries-images/basic-query.png" alt="basic-query.png" />
<ol>
<li><p>Salva i parametri di ricerca o seleziona le query precedentemente salavate, così come  in <a href="#query-template">Modelli di Query</a>.</p></li>
<li><p>Affina la ricerca rispetto <span class="menu">All files and folders</span> per i tipi di file specifici.</p></li>
<li>Definisce il metodo di ricerca:<ul>
    <li><span class="menu">per Nome</span> - una ricerca in base al nome del file o della cartella</li>
    <li><span class="menu">per Attributo</span> - una ricerca avanzata, si possono specificare i termini di ricerca per uno o più attributi</li>
    <li><span class="menu">per Formula</span> - una ricerca ancora più avanzata, è possibile mettere a punto un termine di ricerca complesso</li></ul></li>
<li><p>Seleziona su quali unità cercare.</p></li>
<li><p>Il termine di ricerca.</p></li>
<li><p>Visualizza o nasconde opzioni aggiuntive.</p></li>
<li><p>Non selezionare la casella <span class="menu">Temporary</span>  se non vuoi che la query venga distrutta dopo 7 giorni.</p></li>
<li><p>Spunta se vuoi che la tua ricerca <span class="menu">Includa il cestino</span>.</p></li>
<li><p>Facoltativamente, inserisci il nome della query se vuoi che venga salvata.</p></li>
<li><p>Per salvare la query è possibile trascinare e rilasciare questa icona in qualsiasi posizione. In questo modo con il tasto destro del mouse si può salvare la ricerca come template.</p></li>
</ol>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="basic-query" name="basic-query">Query di base - "per nome"</a></h2>
<p>Se si desidera semplicemente trovare tutti i file e le cartelle sui dischi che corrispondono ad un modello specifico, basta lasciare il metodo di ricerca su <span class="menu">by Name</span>, ed inserire il termine di ricerca nella casella di testo e successivamente premere <span class="key">ENTER</span>.</p>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="adv-query" name="adv-query">Query avanzate - "per attributo"</a></h2>
<p>Si possono creare delle query più avanzate cercando in base agli attributi di tipi di file specifici. Per fare ciò, questi attributi devono essere <a href="index.html">indicizzati</a>.</p>
<img src="images/queries-images/query-window.png" alt="query-window.png" />
<p>E' possibile iniziare impostando il tipo di file da <span class="menu">All files and folders</span>, per esempio, <span class="menu">Text | E-mail</span> e cambiando il metodo di ricerca in <span class="menu">by Attribute</span>.</p>
<p>Questo aggiunge un menu pop-up a sinistra della casella di testo e, sotto di questo, i bottoni  <span class="button">Add</span> e <span class="button">Remove</span>. Dal menu è possibile scegliere con quali attributi fare una query. Con <span class="button">Add</span> e <span class="button">Remove</span> invece è possibile effettuare una query con attributi addizionali o rimuoverli. Questi attributi possono essere collegati con AND/OR.</p>
<p>Facciamo per esempio una email query:</p>
<img src="images/queries-images/query-window-filled.png" alt="query-window-filled.png" />
<p>Questa è la finestra di ricerca, quando si cercano tutte le email ricevute da Clara Botters negli ultimi due mesi che hanno nel Soggetto "vibrafono" o "scettico".<br />
E' facile notare che la ricerca attraverso gli attributi basati sul tempo supporta alcune frasi utili come: "gli ultimi due mesi", inoltre si può usare anche "oggi", "ieri", "lunedì" o "o l'ultimo lunedì" (che è il lunedì dell'ultima settimana), o "o gli utlimi 2 minuti/ore/giorni/settimane".<br />
Questo è un buon modo per ridurre il numero di risultati di ricerca.</p>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="more-adv-query" name="more-adv-query">Query ancora più avanzate - "Per Formula"</a></h2>
<p>Inserire manualmente una formula per effettuare una query (espressioni regolari) è davvero scoraggiante e poco pratico. Ma ha anche altri usi.</p>
<p>Prende le query precedenti in base all'attributo delle mail di Clara relative a vibrafoni ecc. Se si dispone di tutti gli attributi ed i loro termini di ricerca impostati, si consiglia di provare ad usare la modalità <span class="menu">by Formula</span> :</p>
<img src="images/queries-images/formula-query.png" alt="formula-query.png" />
<p>Ancora una volta, modificato per renderlo leggibile</p>
<pre>(((((MAIL:from=="*[cC][lL][aA][rR][aA] [bB][oO][tT][tT][eE][rR][sS]*")
       &amp;&amp;(MAIL:when&gt;=%2 months%))
       &amp;&amp;(MAIL:subject=="*[vV][iI][bB][rR][aA][pP][hH][oO][nN][eE]*"))
       ||(MAIL:subject=="*[sS][kK][eE][pP][tT][iI][cC][aA][lL][iI][tT][yY]*"))
       &amp;&amp;(BEOS:TYPE=="text/x-email"))</pre>
<p>Qual'è l'uso?</p>
<ul>
<li><p>E' possibile copiare la stringa e incollarla ad altre persone in un'email, su un forum o su IRC per essere usata da altri oppure per un debug.</p></li>
<li><p>E' possibile usare questo metodo per costruire una query in modalità <span class="menu">Attribute</span> e quindi passare alla modalità <span class="menu">Formula</span>, per generare comodamente una stringa di ricerca da utilizzare per una query nel terminale o in uno script.</p></li>
<li><p>Le query possono essere raffinate inserendo delle parentesi dove necessario, per rendere ad esempio alcune parti case-sensitive o annulare combinazioni logiche cambiando "<tt>==</tt>" con "<tt>!=</tt>" per un NOT AND. Tutto quello che serve è una conoscenza basilare delle <a href="http://it.wikipedia.org/wiki/Espressione_regolare" class="external free" title="Wikipedia: Espressione regolare">espressioni regolari</a> e forse alcune nozioni di base sullo scripting.</p></li>
</ul>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="result-window" name="result-window">La finestra dei risultati</a></h2>
<p>Dopo aver avviato una ricerca, la finestra Find sarà sostituita da una finestra di risultati. Ecco un esempio di query per la stringa "server":</p>
<img src="images/queries-images/result-window.png" alt="result-window.png" />
<p>Oltre allo sfondo grigio, le finestre dei risultati funzionano esattamente come qualsiasi altra finestra del Tracker. Alcune cose hanno bisogno di una spiegazione più dettagliata :</p>
<ul>
<li><p>È possibile aprire la posizione di un file o una cartella con un doppio clic sul percorso del suo attributo.</p></li>
<li><p>Con <span class="menu">File | Edit Query</span> o <span class="key">ALT</span> <span class="key">G</span> si può ritornare alla finestra di ricerca per ridefinire la query.</p></li>
<li><p>Una query è live ad esempio quando un file che corrisponde ai criteri di ricerca appare o scompare dal sistema, questi cambiamenti si riflettono in tempo reale sui risultati.</p></li>
</ul>
<p>Si può assegnare il layout di un attributo al risultato di una query per un tipo di file specifico aprendo una cartella contenente il file con l'estensione di cui si vuole creare un modello per organizzare gli attributi che sarebbe comodo avere nei risultati della query.
E' possibile copiare questo layout con <span class="menu">Attributes | Copy Layout</span>.</p>
<p>Bisogna aprire <span class="path">/boot/home/config/settings/Tracker/DefaultQueryTemplates</span>, e successivamente creare una nuova cartella chiamata <i>group/filetype</i>, sostituendo gli slash con un underscore, esempio "audio_x-mp3". Successivamente aprendo la nuova cartella incollare il layout precedentemente copiato con <span class="menu">Attributes | Paste Layout</span>.</p>


<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="query-template" name="query-template">Modelli di Query</a></h2>
<p>Facendo doppio clic su una query salvata verrà avviata la ricerca dei file e si aprirà immediatamente la finestra dei risultati.
Tuttavia, è possibile non desiderare di  effettuare una ricerca con questi <i>esatti</i> parametri, ma è comunque possibile usarli come punto di partenza per modificare la formula.<br />
Si può creare un modello usando la voce del menu <span class="menu">Save Query as Template</span> (si guardi <a href="#find-window"> nello screenshot (1)</a> in cima) o trascinando e rilasciando  l'icona con il tasto destro del mouse(10) in qualsiasi punto. Facendo doppio clic non si aprirà la finestra dei risultati, ma il pannello di ricerca, che darà la possibilità di cambiare velocemente le stringhe di ricerca o aggiungere e rimuovere gli attributi.</p>
<p>Ogni volta che si sceglierà di salvare i modelli di query, essi verranno elencati nel menu "query più recenti" del pannello Find.</p>
</div>
</div>

<div class="nav">
<div class="inner"><span>
 «  <a href="index.html">L'indice del filesystem</a> 
::  <a href="contents.html" class="uplink">Contenuti</a> 
::  <a href="workshop-filetypes+attributes.html">Workshop</a>  »
</span></div>
</div>

</body>
</html>
