<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<!-- 
 *
 * Copyright 2008, Haiku. All rights reserved.
 * Distributed under the terms of the MIT License.
 *
 * Authors:
 *		Humdinger <humdingerb@gmail.com>
 * Translators:
 *		Pengphei Han
 *
-->
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta name="robots" content="all" />
	<title>文件系统布局</title>
	<link rel="stylesheet" type="text/css" href="../Haiku-doc.css" />
</head>
<body>

<div id="banner">
<div><span>用户指南</span></div>
</div>

<div class="nav">
<div class="inner">
<ul class="lang-menu">
<li class="now"><img src="../images/flags/zh_CN.png" alt="" />  中文 ［中文］</li>
<li><a href="../fr/filesystem-layout.html"><img src="../images/flags/fr.png" alt="" />Français</a></li>
<li><a href="../de/filesystem-layout.html"><img src="../images/flags/de.png" alt="" />Deutsch</a></li>
<li><a href="../it/filesystem-layout.html"><img src="../images/flags/it.png" alt="" />Italiano</a></li>
<li><a href="../ru/filesystem-layout.html"><img src="../images/flags/ru.png" alt="" />Русский</a></li>
<li><a href="../es/filesystem-layout.html"><img src="../images/flags/es.png" alt="" />Español</a></li>
<li><a href="../sv_SE/filesystem-layout.html"><img src="../images/flags/sv_SE.png" alt="" />Svenska</a></li>
<li><a href="../jp/filesystem-layout.html"><img src="../images/flags/jp.png" alt="" />日本語</a></li>
<li><a href="../uk/filesystem-layout.html"><img src="../images/flags/uk.png" alt="" />Українська</a></li>
<li><a href="../pt_PT/filesystem-layout.html"><img src="../images/flags/pt_PT.png" alt="" />Português</a></li>
<li><a href="../fi/filesystem-layout.html"><img src="../images/flags/fi.png" alt="" />Suomi</a></li>
<li><a href="../sk/filesystem-layout.html"><img src="../images/flags/sk.png" alt="" />Slovenčina</a></li>
<li><a href="../hu/filesystem-layout.html"><img src="../images/flags/hu.png" alt="" />Magyar</a></li>
<li><a href="../pt_BR/filesystem-layout.html"><img src="../images/flags/pt_BR.png" alt="" />Português (Brazil)</a></li>
<li><a href="../ca/filesystem-layout.html"><img src="../images/flags/ca.png" alt="" />Català</a></li>
<li><a href="../en/filesystem-layout.html"><img src="../images/flags/gb.png" alt="" />English</a></li>
</ul>
<span>
 «  <a href="bootloader.html">引导程序</a> 
::  <a href="contents.html" class="uplink">内容</a> 
::  <a href="gui.html">Haiku的图形用户界面</a>  »
</span></div>
</div>

<div id="content">
<div>

<h1>文件系统布局</h1>

<p>Haiku的文件系统布局是非常简洁易懂的，尽量使用简单的名字为文件和文件夹命名，让用户不会产生疑问。对于维持系统的正常运行非常重要的文件和文件夹是收到保护的，当它们发生意外的更改时，系统将会弹出以下的警告：</p>
<img src="images/filesystem-layout-images/achtung-user.png" alt="achtung-user.png" /> 
<img src="images/filesystem-layout-images/achtung-system.png" alt="achtung-system.png" />
<p>如果您对重命名或者删除了系统层次上的一些东西，那么系统将会弹出第二个警告。在这里，“<span class="button">Rename</span>” 按钮只有在您按下 <span class="key">SHIFT</span> 键时才能够点击。</p>
<p>通常，在根目录下的启动卷中有三个独立的分支文件夹：</p>
<table summary="layout" border="0" cellspacing="0" cellpadding="2">
<tr><td><span class="path">/boot/system/</span></td><td> </td><td>该文件夹属于操作系统，最好不要改动。</td></tr>
<tr><td><span class="path">/boot/common/</span></td><td> </td><td>该文件夹内的文件是用户之间共享的文件。</td></tr>
<tr><td><span class="path">/boot/home/</span></td><td> </td><td>该文件夹是您私人的文件夹，保存了您的数据和设置。</td></tr>
</table>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="system" name="system">系统文件夹 - <span class="path">/boot/system/</span></a></h2>
<p>在原BeOS中，该文件夹命名为 <span class="path">/boot/beos/</span>。在一些老的文档中，您仍然可以找到它（例如在BeBook中）。
<br />
不论它以何种方式命名，您最好不要修改里面的内容。Haiku的每次更新都可能会添加，删除或者覆盖里面的东西。如果您希望添加新的功能，可能是Tracker的附加组件，或者Translators，或者其他的硬件驱动，您需要将其安装在 <span class="path">/boot/home/</span> 中；如果是用于所有的用户，则安装在 <span class="path">/boot/common/</span> 中。只要Haiku不是多用户系统，这两者就没有明显的区别， 因为系统中只有一个用户，只有一个 <i>home</i> 文件夹。但是由于Haiku最终会支持多用户，那就有必要在开始时就对此有一个正确的理解。</p>
<p>所以，假如您希望安装一个新的 Translator 以用于最新的图像格式，您最好<b>不要</b>简单的将其复制到系统文件夹中。切记：不要动其中的文件！<br />
相反的，您需要把它放置在 <span class="path">/boot/common/</span> 或者 <span class="path">/boot/home/config/</span> 文件夹下对应的文件层次中即可。</p>
<p>在我们的例子中，Translators在系统文件夹中的路径应该是：</p>
<p><span class="path">/boot/system/add-ons/Translators/</span></p>
<p>所以，在用户文件夹中，相对应的是：</p>
<p><span class="path">/boot/home/config/add-ons/Translators/</span><br />
或者<br />
<span class="path">/boot/common/add-ons/Translators/</span></p>
<p>这还具有一项优势：如果您安装的组件陷入了混乱（在您安装硬件驱动时可能就会出现这种状况），您可以在<a href="bootloader.html">引导程序</a>菜单中选择 "<i>Disable User Add-Ons</i>"，这样就能够避开产生麻烦的组件而顺利启动。</p>
<p>然而，多数情况下，您根本不需要处理这些东西， 因为每个来自可信赖源的程序都包含了用于处理这些事物的例行安装程序。<br />
<!--
如果您确实希望了解Haiku中文件的排布方式，您可以查看系统文件夹的布局图：
</p>
<p><i>TODO.... Table to be added ....</i>
<table>
</table>
-->
</p>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="common" name="common">共享文件夹 - <span class="path">/boot/common/</span></a></h2>
<p>Haiku 不是一个多用户的操作系统。然而一旦它实现了多用户，每个用户都将拥有自己的 <i>home</i> 文件夹，并且不能够被其他用户所访问。 每个程序或者附加组件，例如，Tracker Add-Ons，Translators 等，它们和任何属于不同用户的共享数据一样，必须存放在 <span class="path">/boot/common/</span> 中。</p>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="home" name="home">home文件夹 - <span class="path">/boot/home/</span></a></h2>
<p>该文件夹属于您私人的文件夹。您完全可以按照自己的意愿来创建和删除文件和文件夹。但是，您最好不要乱动 <span class="path">~/config/</span> 目录和它的子文件夹。您 <i>完全可以</i> 删除文件夹，例如  <span class="path">~/config/settings/</span> 文件夹，并且不会对系统产生破坏，但是谁愿意丢失所有的系统配置和程序设置呢？在此情形下，系统将会弹出上面所述的前一个警报。</p>
<p>除了 <span class="path">~/config/add-ons/</span> 文件夹，主要对应于上述的系统附加组件的add-ons文件夹，还有一些其他有趣的文件夹。（顺便提一下，（"<tt>~</tt>"）字符是您的home文件夹的简写，所以您不必每次都在终端中写出它的绝对路径 "<span class="path">/boot/home/</span>" ）</p>
<table summary="layout" border="0" cellspacing="0" cellpadding="4">
<tr><td><span class="path">~/mail</span></td><td style="width:10px;"> </td>
<td>默认的，这里是您的邮件保存的位置。</td></tr>

<tr><td><span class="path">~/queries</span></td><td style="width:10px;"> </td>
<td><a href="queries.html">查询</a> 默认保存在该文件夹中，并且暂存一周的时间。</td></tr>

<tr><td><span class="path">~/config/be/</span></td><td> </td>
<td>它也是从 BeOS 遗留下来的，<span class="path">be</span> 文件夹存放了 <a href="deskbar.html#deskbar-menu">桌面栏菜单</a>中显示的所有东西。您可以通过在该文件夹中添加文件，文件夹，快捷方式或者查询来添加或者删除桌面栏菜单中的项目。</td></tr>

<tr><td><span class="path">~/config/bin/</span></td><td> </td>
<td>该文件夹是系统文件夹 <span class="path">/boot/system/bin/</span> 的补充，并且存放了所有的命令行程序。</td></tr>

<tr><td><span class="path">~/config/boot/</span></td><td> </td>
<td>该文件夹存放了在系统启动或者关闭时所运行的<a href="bash-scripting.html#user-scripts">用户脚本</a>。</td></tr>

<tr><td><span class="path">~/config/boot/launch/</span></td><td> </td>
<td>该文件夹中的程序快捷方式，或者文档在每次启动时都自动开始运行。</td></tr>

<tr><td><span class="path">~/config/data/fonts/</span></td><td> </td>
<td>只要把TrueType 或者Postscript字体复制到该文件夹中，它们就可以马上投入使用。</td></tr>

<tr><td><span class="path">~/config/settings/</span></td><td> </td>
<td>该文件夹存放了所有程序的设置文件和一些系统配置文件。有些程序会将其设置文件存放在它们自己的子文件夹中，但是其他的则直接存放在这里。</td></tr>

<tr><td><span class="path">~/config/settings/beos_mime/</span></td><td> </td>
<td>在这个<acronym title="Multipurpose Internet Mail Extensions">MIME</acronym> 数据库中， Haiku跟踪保持了所有的 <a href="filetypes.html">文件类型</a> 和它们的设置情况。</td></tr>

<tr><td class="onelinetop"><span class="path">~/config/settings/kernel/drivers/</span></td><td> </td>
<td>有一个设置文件可能比较有趣： <span class="cli">kernel</span> 提供了一些底层的配置，例如，禁用 <acronym title="Symmetric Multi Processing">SMP</acronym>，激活串行调试或者 允许高级电源管理。您只要将该配置行前的 “<tt>#</tt>” 注解符号删除即可。在操作时，要时刻小心！</td></tr>

<tr><td><span class="path">~/config/settings/Tracker/</span></td><td> </td>
<td>除了用于 Tracker 的各种设置文件外，还有一些有趣的子文件夹：</td></tr>

<tr><td align="right"><span class="path">DefaultFolderTemplate/</span></td><td style="width:10px;"></td><td>显示和编排所有的属性与您喜欢的窗口大小。每个新建的文件夹都将以它为模板。</td></tr>

<tr><td align="right"><span class="path">DefaultQueryTemplates/</span></td><td></td><td>您可以为确定的文件类型定义查询结果的窗口布局。可以参阅 <a href="queries.html#result-window">查询：结果窗口</a> 主题。</td></tr>

<tr><td align="right"><span class="path">Go/</span></td><td></td><td>把您最喜欢的路径的链接放置在这里，可以打开或者保存面板中对他们进行访问。可以参阅 <a href="gui.html#favorites-recent">Haiku's GUI: Favorites and recent folders</a> 主题。</td></tr>

<tr><td align="right"><span class="path">Tracker New Template/</span></td><td></td><td>为任意的文件类型添加模板，它们就可以在Tracker的 <span class="menu">File | New...</span> 菜单中进行访问。 可以参阅<a href="tracker.html#working-with-files">Tracker：文件处理</a>主题。</td></tr>
</table>

</div>
</div>

<div class="nav">
<div class="inner"><span>
 «  <a href="bootloader.html">引导程序</a> 
::  <a href="contents.html" class="uplink">内容</a> 
::  <a href="gui.html">Haiku的图形用户界面</a>  »
</span></div>
</div>

</body>
</html>
